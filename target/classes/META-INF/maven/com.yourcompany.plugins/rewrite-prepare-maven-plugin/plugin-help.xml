<?xml version="1.0" encoding="UTF-8"?>

<!-- Generated by maven-plugin-tools 3.6 -->

<plugin>
  <name>Rewrite Prepare Maven Plugin</name>
  <description>OpenRewrite recipe YAML 파일들을 병합하고 recipeList를 편집하는 Maven 플러그인</description>
  <groupId>com.yourcompany.plugins</groupId>
  <artifactId>rewrite-prepare-maven-plugin</artifactId>
  <version>0.1.0-SNAPSHOT</version>
  <goalPrefix>rewrite-prepare</goalPrefix>
  <mojos>
    <mojo>
      <goal>prepare</goal>
      <description>Rewrite Prepare Maven Plugin의 메인 Mojo 클래스 이 플러그인은 recipeDirectory에 있는 OpenRewrite recipe YAML 파일들을 찾아 병합하고, 지정한 이름으로 레시피 정의를 찾아 recipeList 속성의 값을 편집합니다. 처리 순서: 1. merge-rules.yml 파일을 읽어서 현재 프로젝트의 groupId, artifactId와 매칭되는 규칙을 찾습니다. 2. 매칭된 규칙들의 mergeFiles를 병합합니다. 3. 매칭된 규칙들의 updateRecipeList를 순서대로 수행합니다. 4. 최종 결과를 outputFile에 저장합니다.</description>
      <requiresDirectInvocation>false</requiresDirectInvocation>
      <requiresProject>true</requiresProject>
      <requiresReports>false</requiresReports>
      <aggregator>false</aggregator>
      <requiresOnline>false</requiresOnline>
      <inheritedByDefault>true</inheritedByDefault>
      <phase>process-resources</phase>
      <implementation>com.yourcompany.plugins.rewriteprepare.RewritePrepareMojo</implementation>
      <language>java</language>
      <instantiationStrategy>per-lookup</instantiationStrategy>
      <executionStrategy>once-per-session</executionStrategy>
      <threadSafe>false</threadSafe>
      <parameters>
        <parameter>
          <name>artifactId</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>프로젝트 artifactId (기본값: project.artifactId) CLI 변수명: rewrite-prepare.artifactId</description>
        </parameter>
        <parameter>
          <name>groupId</name>
          <type>java.lang.String</type>
          <required>false</required>
          <editable>true</editable>
          <description>프로젝트 groupId (기본값: project.groupId) CLI 변수명: rewrite-prepare.groupId</description>
        </parameter>
        <parameter>
          <name>mergeRuleFile</name>
          <type>java.io.File</type>
          <required>false</required>
          <editable>true</editable>
          <description>머지 규칙 파일 경로 기본값: merge-rules.yml CLI 변수명: rewrite-prepare.mergeRuleFile</description>
        </parameter>
        <parameter>
          <name>outputFile</name>
          <type>java.io.File</type>
          <required>false</required>
          <editable>true</editable>
          <description>출력 파일 경로 기본값: openrewrite/rewrite.yml CLI 변수명: rewrite-prepare.outputFile</description>
        </parameter>
        <parameter>
          <name>recipeDirectory</name>
          <type>java.io.File</type>
          <required>false</required>
          <editable>true</editable>
          <description>recipe 파일들이 있는 디렉토리 기본값: ${project.basedir} CLI 변수명: rewrite-prepare.recipeDirectory</description>
        </parameter>
      </parameters>
      <configuration>
        <artifactId implementation="java.lang.String">${rewrite-prepare.artifactId}</artifactId>
        <groupId implementation="java.lang.String">${rewrite-prepare.groupId}</groupId>
        <mergeRuleFile implementation="java.io.File" default-value="merge-rules.yml">${rewrite-prepare.mergeRuleFile}</mergeRuleFile>
        <outputFile implementation="java.io.File" default-value="openrewrite/rewrite.yml">${rewrite-prepare.outputFile}</outputFile>
        <recipeDirectory implementation="java.io.File" default-value="${project.basedir}">${rewrite-prepare.recipeDirectory}</recipeDirectory>
      </configuration>
    </mojo>
  </mojos>
</plugin>